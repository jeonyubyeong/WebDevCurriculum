# Quest 11. RDB의 기초와 ORM

## Introduction
* 이번 퀘스트에서는 데이터베이스를 다루는 방법에 대해 알아보겠습니다.

## Topics
* RDBMS
* MySQL
* ORM
* Hash
  * scrypt

## Resources
* [MySQL 101 – The basics](https://www.globo.tech/learning-center/mysql-101-basics/)
* [Sequelize](https://sequelize.org/)
* [안전한 패스워드 저장](https://d2.naver.com/helloworld/318732)

## Checklist
* RDBMS 테이블의 정규화는 무엇인가요?
  - 관계형 데이터베이스(RDBMS)의 테이블 정규화(normalization)는 데이터를 중복 없이 효율적으로 저장하기 위한 프로세스입니다. 
  - 중복을 최소화하도록 구조화하는 것입니다. 
* MySQL 외의 RDB에는 어떤 것들이 있나요?
  - Oracle: 대규모 데이터베이스에서 사용되는 상용 RDBMS입니다. 유료 라이선스를 제공하며, 기업 환경에서 많이 사용됩니다.
  - Microsoft SQL Server: Microsoft에서 개발한 RDBMS입니다. Windows 환경에서 많이 사용되며, 대규모 데이터베이스를 지원합니다.
  - PostgreSQL: 오픈 소스 RDBMS로, ACID를 준수하며, 대규모 데이터베이스에 적합합니다. MySQL보다 더 많은 기능을 제공합니다.
  - SQLite: 경량 RDBMS로, 소규모 웹 및 모바일 애플리케이션에 많이 사용됩니다. 파일 기반 데이터베이스로, 빠른 성능을 제공합니다.
  - IBM DB2: IBM에서 개발한 RDBMS입니다. 대규모 데이터베이스를 지원하며, 대규모 기업에서 많이 사용됩니다.
* Relational Database 외에 다른 DB에는 어떤 것들이 있을까요?
  - NoSQL 데이터베이스: 관계형 데이터베이스와 달리 스키마가 없거나 유연한 스키마를 가지고 있습니다. 대량의 비정형 데이터를 처리하기 위한 목적으로 사용되며, 예를 들어 웹 애플리케이션의 로그 데이터 등을 처리하는 데 사용됩니다. 대표적인 NoSQL 데이터베이스로는 MongoDB, Cassandra, Couchbase 등이 있습니다.
  - 그래프 데이터베이스: 데이터를 노드와 엣지(관계)로 구성된 그래프 형태로 저장하는 데이터베이스입니다. 예를 들어 소셜 네트워크에서 사용자와 친구 관계를 저장하는 데 사용됩니다. 대표적인 그래프 데이터베이스로는 Neo4j, ArangoDB 등이 있습니다.
  - 메모리 데이터베이스: 데이터를 디스크 대신 메모리에 저장하여 빠른 데이터 처리를 가능케 합니다. 주로 빠른 데이터 처리가 필요한 애플리케이션에서 사용됩니다. 대표적인 메모리 데이터베이스로는 Redis, Memcached 등이 있습니다.
  - 컬럼 패밀리 데이터베이스: 열 기반 데이터 저장 방식을 사용하는 데이터베이스입니다. 대량의 데이터를 저장하고 처리하기에 적합하며, OLAP(Online Analytical Processing) 분석 작업에 많이 사용됩니다. 대표적인 컬럼 패밀리 데이터베이스로는 Apache HBase, Cassandra 등이 있습니다.
  - 객체 데이터베이스: 객체 지향 프로그래밍에서 사용되는 객체를 저장하고 조회하는 데 사용됩니다. 객체 지향 프로그래밍에서 발생하는 문제를 해결하기 위해 개발된 데이터베이스입니다. 대표적인 객체 데이터베이스로는 Versant Object Database, ObjectDB 등이 있습니다.
* RDBMS에서 테이블의 인덱싱은 무엇인가요? 인덱싱을 하면 어떤 점이 다르며, 어떤 식으로 동작하나요?
  - 인덱스는 데이터베이스 테이블의 동작 속도를 높여주는 자료구조입니다. 특정 컬럼에 인덱스를 생성하면 해당 컬럼의 데이터들을 정렬하여 별도의 메모리 공간에 데이터의 물리적 주소와 함께 저장됩니다. 이렇게 인덱스가 생성되면 쿼리문에 인덱스 생성 컬럼을 Where 조건으로 거는 등의 작업을 할 때 옵티마이저에서 적절히 판단해 생성된 인덱스를 사용해 검색 속도를 높입니다.
* ORM을 사용하는 것은 사용하지 않는 것에 비해 어떤 장단점을 가지고 있나요?
  - ORM은 데이터베이스의 데이터와 프로그래밍 언어의 객체를 매핑하는 것입니다.
    - 객체 지향적인 코드로 더욱 직관적이고 비즈니스 로직에 집중할 수 있게 해주며 DBMS에 대한 종속성이 줄어든다는 장점이 있습니다.
    - 그러나 완벽히 ORM으로만 서비스를 구현하기는 어렵습니다. 설계를 신중하게 해야 하며, DBMS 고유의 기능을 이용하기 어렵습니다. (이는 장점이기도 합니다.)
    - 따라서 ORM을 사용하는 것은 생산성과 유지보수성을 높이는 장점이 있지만, 이를 사용하면서 발생할 수 있는 성능 저하나 복잡성 등의 단점도 고려해야 합니다.
* 자바스크립트 생태계의 ORM에는 어떤 것들이 있나요?
  - Sequalize, typeORM, Mongoose, Prisma 등이 있습니다.
* 모델간의 1:1, 1:N, N:M 관계는 각각 무엇이고 어떨 때 사용하나요?
  - 1:1 관계: 하나의 모델이 다른 하나의 모델과 연결되는 관계입니다. 예를 들어, 한 명의 사용자(User)가 하나의 프로필(Profile)을 가지는 경우, User 모델과 Profile 모델 간에 1:1 관계가 형성됩니다.
  - 1:N 관계: 하나의 모델이 다른 여러 모델과 연결되는 관계입니다. 예를 들어, 한 명의 사용자(User)가 여러 개의 게시글(Post)을 작성하는 경우, User 모델과 Post 모델 간에 1:N 관계가 형성됩니다.
  - N:M 관계: 여러 개의 모델이 다른 여러 개의 모델과 연결되는 관계입니다. 예를 들어, 여러 명의 사용자(User)가 여러 개의 태그(Tag)를 가질 수 있는 경우, User 모델과 Tag 모델 간에 N:M 관계가 형성됩니다.
* DB에 사용자의 암호를 평문으로 저장하지 않고도 사용자의 암호를 인증하는 것이 가능한 이유는 무엇일까요?

  - 해시 함수는 임의의 길이의 입력 값을 받아서 고정된 길이의 출력 값을 생성합니다. 이 출력 값은 입력 값의 특정한 속성을 보존하면서도 원본 값을 역산할 수 없도록 만들어진 값입니다. 예를 들어, SHA-256 해시 함수를 사용하면 입력 값의 길이에 상관없이 256비트의 출력 값을 얻을 수 있습니다.

  - 이와 같은 해시 함수를 사용하여 사용자의 암호를 암호화하면 원래 암호를 복원할 수 없습니다. 대신에, 암호화된 값을 데이터베이스에 저장합니다. 그리고 사용자가 로그인하려고 할 때 입력한 암호를 같은 암호화 함수를 적용하여 암호화한 후, 데이터베이스에 저장된 암호화된 값과 비교하여 인증을 수행합니다.
* 해시 함수에는 어떤 것이 있나요?
  - MD5: 128비트 출력 값을 생성하는 가장 널리 사용되는 해시 함수 중 하나입니다. 하지만 보안에 취약해져서 현재는 사용되지 않는 추세입니다.
  - SHA-1: 160비트 출력 값을 생성하는 해시 함수입니다. MD5보다는 안전하지만, 최근에는 보안상의 이유로 사용을 자제하는 것이 좋습니다.
  - SHA-256, SHA-384, SHA-512: 각각 256, 384, 512비트 출력 값을 생성하는 해시 함수입니다. 현재 가장 보안성이 높은 해시 함수 중 하나입니다.
  - 이외에도 bcrypt, PBKDF2, HMAC 등이 있습니다. 
* 사용자의 암호를 해싱하여 저장할 때 어떤 식으로 저장하는 것이 보안에 좋을까요?
  - 솔트(salt)를 사용하여 해시값을 생성합니다. 솔트는 암호화할 때 랜덤으로 생성된 문자열로, 같은 암호라도 솔트값이 다르면 해시값이 달라집니다. 이를 통해 레인보우 테이블(Rainbow Table) 공격을 방지할 수 있습니다.
  - 해시 함수는 SHA-2, SHA-3, bcrypt, scrypt 등 보안에 강력한 해시 함수를 사용합니다. 이러한 알고리즘들은 해시 충돌의 가능성이 매우 낮고, 브루트 포스 공격을 방지할 수 있는 반복 횟수 등 보안 강화 기능을 제공합니다.
  - 저장할 때 해싱된 값을 저장합니다. 암호화된 값과 솔트값을 저장합니다.

## Quest
* 이번에는 메모장을 파일이 아닌 DB기반으로 만들어 보고자 합니다.
  * 적절한 테이블을 설계해 보세요.
  * Sequelize를 이용하여 데이터의 모델을 만들고 어플리케이션에 적용해 보세요.
  * 사용자의 비밀번호는 해싱을 통해 저장되어야 합니다.

## Advanced
* Object–relational impedance mismatch란 어떤 개념인가요?
* Foreign Key란 무엇인가요? 이것을 사용할 때의 장점과 단점은 무엇일까요?
* 이전에 쓰이던 해시함수들에는 어떤 것이 있을까요? 패스워드 해싱의 추세의 역사는 어떻게 이어져왔나요?
